- Register the powercallback (Check if this is S0->Sx, or Sx->S0 to load the hypervisor and unload it otherwise.
- On all LP:
	- Check the Hypervisor Present-bit (cpuid, 1).
	- Check if the Feature Control MSR is locked (readmsr IA32_FEATURE_CONTROL_MSR).
	- Is VMX enabled in normal peration mode? (IA32_FEATURE_CONTROL_MSR_ENABLE_VMXON_OUTSIDE_SMX).
	- Allocate the per-VP data for this logical processor.
	- Share the correct kernel address space : Data->SystemDirectoryTableBase = Context->Cr3;
	- Read the special control registers for this processor -> Data->SpecialRegisters.
	- Capture the entire register state (RtlCaptureContext) -> Data->ContextFrame.
	- If the AC bit is not set in EFLAGS, it means that we have not yet launched the VM (__readeflags).
	- Initialize VMX on this processor:
		- Initialize all the VMX-related MSRs by reading their value.
		- Initialize all the MTRR-related MSRs by reading their value and build range structures to describe their settings.
		- Initialize the EPT structures.
